<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head> 
<body>
  <!-- Navbar -->
<% if(nav === true){ %>
<div class="w-full px-10 py-3 flex justify-between bg-zinc-800 text-white">
    <h3 class="text-xl"><i>Tech Titan</i></h3>
    <div class="flex gap-10 items-center">
        <a href="/profile">Profile</a>
        <a href="/feed">Feed</a>
        <a href="/logout" class="px-3 py-2 bg-red-700 etxt-white rounded-lg">Logout</a>
    </div>
</div>
<% } %>
<!-- Finish -->

    <div class="profile w-full min-h-screen bg-zinc-800 text-white">
        <form id="uploadform" hidden action="/fileupload" method="post" enctype="multipart/form-data">
            <input type="file" name="image">
        </form>
       <div class="profdets flex flex-col items-center ">
           <div class="relative">
           <span id="upload" class="w-8 h-8 absolute bottom-0 right-0 rounded-full flex items-center justify-center bg-zinc-200"> 
               <i class="text-zinc-800 fa-solid fa-pencil"> 
           </i></span>
           <div class="w-40 h-40 bg-zinc-200 rounded-full mt-5 overflow-hidden">
            <img class="w-full h-full" src="/images/uploads/<%= user.profileimage %>" alt="">
           </div>
       </div>

           <h1 class="text-3xl font-semibold mt-5"><%= user.Fullname %></h1>
           <h1 class="text-md font-semibold"><%= user.username %></h1><br>
           <a href="/edit" class="px-6 py-3 bg-zinc-700 rounded-full">Edit</a>
           <a href="/add" class="px-10 py-2 rounded-lg bg-cyan-400 mt-4 font-semibold color-black">Add New Post</a>
       </div>
       <!-- Cards -->
         <div class="cards flex flex-wrap gap-10 px-4">
            <div class="card">
                <div class="w-52 h-40 bg-white rounded-lg">
                    <img class="w-full h-full object-cover" src="/images/uploads/<%= user?.posts[0]?.image %>" alt="">
                </div>
                <a href="/show/posts" class="inline-block text-xl font-bold mt-3">your uploaded pin</a>
                <h5 class="font-semibold"><%= user.posts.length %></h5>
            </div>
    </div>
</body>
<script>
    let upload = document.querySelector('#upload')
    upload.addEventListener('click',()=>{
        document.querySelector("#uploadform input").click()
    })
    document.querySelector("#uploadform input").addEventListener('change',()=>{
        document.querySelector("#uploadform").submit()
    })
</script>
</html>



